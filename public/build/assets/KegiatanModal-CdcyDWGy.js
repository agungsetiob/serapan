import{x as B,A as h,r as C,c as g,o as l,w as r,b as t,h as k,d as K,a as i,u as a,f as n,e as b,t as f}from"./app-BFIzMVFd.js";import{_ as S}from"./Modal-By5cnOVT.js";import{_ as V}from"./InputError-CQqX-vWw.js";import{_ as M}from"./TextInput-CMlNlbfd.js";import{P as D}from"./PrimaryButton-DMpJWd03.js";import{_}from"./SecondaryButton-B7RMHXRj.js";import{D as E}from"./DangerButton-DalIR-J_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"p-6"},$={class:"mb-4"},j={class:"flex justify-end gap-2"},H={key:1},P={class:"text-center"},A={class:"mt-2 text-gray-700"},O={class:"font-semibold text-red-400"},T={class:"flex justify-end gap-2"},L={__name:"KegiatanModal",props:{show:Boolean,kegiatan:Object,isEditing:Boolean},emits:["close","success"],setup(d,{emit:x}){const m=d,c=x,e=B({id:null,nama:""});h(()=>m.show,u=>{u&&m.kegiatan?(e.id=m.kegiatan.id||null,e.nama=m.kegiatan.nama||""):u||e.reset()},{immediate:!0});const o=()=>{c("close")},y=()=>{e.put(route("kegiatans.update",{kegiatan:e.id}),{preserveScroll:!0,onSuccess:()=>{c("success","Kegiatan berhasil diperbarui"),o()}})},w=()=>{e.delete(route("kegiatans.destroy",{kegiatan:e.id}),{preserveScroll:!0,onSuccess:()=>{c("success","Kegiatan berhasil dihapus"),o()}})};return(u,s)=>{const p=C("font-awesome-icon");return l(),g(S,{show:d.show,title:d.isEditing?"Edit Kegiatan":"Hapus Kegiatan",maxWidth:"2xl",closeable:"",onClose:o},{default:r(()=>[t("div",N,[d.isEditing?(l(),k("form",{key:0,onSubmit:K(y,["prevent"])},[t("div",$,[s[1]||(s[1]=t("label",{class:"block text-gray-700 text-sm font-medium mb-1"},"Nama Kegiatan",-1)),i(M,{modelValue:a(e).nama,"onUpdate:modelValue":s[0]||(s[0]=v=>a(e).nama=v),class:"w-full",placeholder:"Masukkan nama kegiatan"},null,8,["modelValue"]),i(V,{message:a(e).errors.nama},null,8,["message"])]),t("div",j,[i(_,{onClick:o,disabled:a(e).processing},{default:r(()=>s[2]||(s[2]=[n(" Batal ")])),_:1},8,["disabled"]),i(D,{disabled:a(e).processing},{default:r(()=>[a(e).processing?(l(),g(p,{key:0,icon:"spinner",spin:"",class:"mr-2"})):b("",!0),n(" "+f(a(e).processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"])])],32)):(l(),k("div",H,[t("div",P,[i(p,{icon:["fas","triangle-exclamation"],class:"text-red-500 text-4xl"}),t("div",A,[s[3]||(s[3]=n(" Hapus sub kegiatan ")),t("span",O,f(a(e).nama),1),s[4]||(s[4]=n("? ")),s[5]||(s[5]=t("br",null,null,-1)),s[6]||(s[6]=n("Data yang dihapus tidak dapat dikembalikan. "))]),t("div",T,[i(_,{onClick:o},{default:r(()=>s[7]||(s[7]=[n(" Batal ")])),_:1}),i(E,{onClick:w,disabled:a(e).processing},{default:r(()=>[a(e).processing?(l(),g(p,{key:0,icon:"spinner",spin:"",class:"mr-2"})):b("",!0),n(" "+f(a(e).processing?"Menghapus...":"Hapus"),1)]),_:1},8,["disabled"])])])]))])]),_:1},8,["show","title"])}}};export{L as default};
